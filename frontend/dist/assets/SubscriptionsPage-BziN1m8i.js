import{r as o,y as L,z as q,j as e,A as W,B as _,D as X,E as Z,F as Y}from"./radix-ui-g4Zjb45b.js";import{l as E,u as G,B as y,A as J,C as k,a as P,b as D,e as A,f as M,c as I,Z as K,m as Q,d as ee,g as se}from"./index-Di0QTi5H.js";import{S as B}from"./skeleton-CqUGqSWy.js";import{m as b}from"./animations-Cl6lmbPg.js";import{B as te}from"./building-2-DXoGE59w.js";import{S as ae}from"./sparkles-D4T4iNqH.js";import{C as R}from"./circle-check-Bt4IzOAM.js";import{C as re}from"./circle-alert-KNhF9Ogk.js";import{C as ne}from"./circle-x-DRdwssQI.js";import{L as T}from"./vendor-5D3NlFB3.js";var C="Switch",[ie]=W(C),[ce,le]=ie(C),z=o.forwardRef((r,n)=>{const{__scopeSwitch:i,name:m,checked:d,defaultChecked:f,required:u,disabled:x,value:h="on",onCheckedChange:t,form:s,...a}=r,[c,l]=o.useState(null),g=L(n,N=>l(N)),j=o.useRef(!1),v=c?s||!!c.closest("form"):!0,[w,O]=q({prop:d,defaultProp:f??!1,onChange:t,caller:C});return e.jsxs(ce,{scope:i,checked:w,disabled:x,children:[e.jsx(_.button,{type:"button",role:"switch","aria-checked":w,"aria-required":u,"data-state":U(w),"data-disabled":x?"":void 0,disabled:x,value:h,...a,ref:g,onClick:X(r.onClick,N=>{O(V=>!V),v&&(j.current=N.isPropagationStopped(),j.current||N.stopPropagation())})}),v&&e.jsx(H,{control:c,bubbles:!j.current,name:m,value:h,checked:w,required:u,disabled:x,form:s,style:{transform:"translateX(-100%)"}})]})});z.displayName=C;var F="SwitchThumb",$=o.forwardRef((r,n)=>{const{__scopeSwitch:i,...m}=r,d=le(F,i);return e.jsx(_.span,{"data-state":U(d.checked),"data-disabled":d.disabled?"":void 0,...m,ref:n})});$.displayName=F;var oe="SwitchBubbleInput",H=o.forwardRef(({__scopeSwitch:r,control:n,checked:i,bubbles:m=!0,...d},f)=>{const u=o.useRef(null),x=L(u,f),h=Z(i),t=Y(n);return o.useEffect(()=>{const s=u.current;if(!s)return;const a=window.HTMLInputElement.prototype,l=Object.getOwnPropertyDescriptor(a,"checked").set;if(h!==i&&l){const g=new Event("click",{bubbles:m});l.call(s,i),s.dispatchEvent(g)}},[h,i,m]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i,...d,tabIndex:-1,ref:x,style:{...d.style,...t,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});H.displayName=oe;function U(r){return r?"checked":"unchecked"}var de=z,me=$;function ue({className:r,...n}){return e.jsx(de,{"data-slot":"switch",className:E("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",r),...n,children:e.jsx(me,{"data-slot":"switch-thumb",className:E("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}const xe={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},S={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},p={starter:{name:"Starter",icon:K,color:"from-blue-500 to-cyan-500",description:"Perfect for small projects and startups",features:["Basic AI Consulting","Email Support","Monthly Reports","1 Team Member"]},professional:{name:"Professional",icon:ae,color:"from-purple-500 to-pink-500",description:"For growing businesses with advanced needs",features:["Priority Support","Monthly AI Reports","API Access","5 Team Members","Custom Integrations"]},enterprise:{name:"Enterprise",icon:te,color:"from-amber-500 to-orange-500",description:"Full-scale AI transformation for large organizations",features:["24/7 Dedicated Support","Weekly AI Reports","Full API Access","Unlimited Team Members","Custom AI Models","On-premise Deployment"]}};function Se(){const{getSubscriptions:r}=G(),[n,i]=o.useState([]),[m,d]=o.useState(!0);o.useEffect(()=>{(async()=>{const a=await r();i(a),d(!1)})()},[r]);const f=s=>{switch(s){case"active":return"bg-green-500/10 text-green-600 border-green-500/20";case"cancelled":return"bg-red-500/10 text-red-600 border-red-500/20";case"expired":return"bg-gray-500/10 text-gray-600 border-gray-500/20";case"pending":return"bg-yellow-500/10 text-yellow-600 border-yellow-500/20";default:return"bg-muted text-muted-foreground"}},u=s=>{switch(s){case"active":return e.jsx(R,{className:"h-3 w-3"});case"cancelled":return e.jsx(ne,{className:"h-3 w-3"});case"expired":return e.jsx(re,{className:"h-3 w-3"});case"pending":return e.jsx(se,{className:"h-3 w-3"});default:return null}},x=(s,a)=>{const c=new Date(s).getTime(),l=new Date(a).getTime(),g=Date.now(),j=l-c,v=g-c;return Math.min(100,Math.max(0,v/j*100))},h=s=>{const a=new Date(s).getTime(),c=Date.now(),l=Math.ceil((a-c)/(1e3*60*60*24));return Math.max(0,l)};if(m)return e.jsxs("div",{className:"space-y-6",children:[e.jsx(B,{className:"h-8 w-48"}),e.jsx(B,{className:"h-64"})]});const t=n.find(s=>s.status==="active");return e.jsxs(b.div,{variants:xe,initial:"hidden",animate:"visible",className:"space-y-6",children:[e.jsxs(b.div,{variants:S,className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Subscriptions"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage your subscription plans and billing"})]}),e.jsx(y,{variant:"outline",asChild:!0,children:e.jsxs(T,{to:"/pricing",children:["View Plans",e.jsx(J,{className:"ml-2 h-4 w-4"})]})})]}),t&&e.jsx(b.div,{variants:S,children:e.jsxs(k,{className:"border-primary/20",children:[e.jsx(P,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(D,{children:"Current Plan"}),e.jsx(A,{children:"Your active subscription details"})]}),e.jsx(M,{variant:"outline",className:f(t.status),children:e.jsxs("span",{className:"flex items-center gap-1",children:[u(t.status),"Active"]})})]})}),e.jsxs(I,{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:`w-16 h-16 rounded-xl bg-gradient-to-br ${p[t.plan].color} flex items-center justify-center`,children:(()=>{const s=p[t.plan].icon;return e.jsx(s,{className:"h-8 w-8 text-white"})})()}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("h3",{className:"text-xl font-bold capitalize",children:[p[t.plan].name," Plan"]}),e.jsx("p",{className:"text-muted-foreground",children:p[t.plan].description}),e.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[e.jsxs("span",{className:"text-2xl font-bold",children:["$",t.price,e.jsxs("span",{className:"text-sm font-normal text-muted-foreground",children:["/",t.currency]})]}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"per month"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Subscription Period"}),e.jsxs("span",{className:"font-medium",children:[h(t.endDate)," days remaining"]})]}),e.jsx(Q,{value:x(t.startDate,t.endDate),className:"h-2"}),e.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[e.jsx("span",{children:new Date(t.startDate).toLocaleDateString()}),e.jsx("span",{children:new Date(t.endDate).toLocaleDateString()})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-3",children:"Plan Features"}),e.jsx("div",{className:"grid sm:grid-cols-2 gap-2",children:t.features.map((s,a)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(R,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:"text-sm",children:s})]},a))})]}),e.jsxs("div",{className:"flex flex-wrap gap-3 pt-4 border-t",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ue,{checked:t.autoRenew,id:"auto-renew"}),e.jsx("label",{htmlFor:"auto-renew",className:"text-sm cursor-pointer",children:"Auto-renew subscription"})]}),e.jsx("div",{className:"flex-1"}),e.jsx(y,{variant:"outline",children:"Upgrade Plan"}),e.jsx(y,{variant:"destructive",size:"sm",children:"Cancel"})]})]})]})}),e.jsx(b.div,{variants:S,children:e.jsxs(k,{children:[e.jsxs(P,{children:[e.jsx(D,{children:"Subscription History"}),e.jsx(A,{children:"All your past and current subscriptions"})]}),e.jsx(I,{children:n.length>0?e.jsx("div",{className:"space-y-4",children:n.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg bg-muted/50 hover:bg-muted transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg bg-gradient-to-br ${p[s.plan].color} flex items-center justify-center`,children:(()=>{const a=p[s.plan].icon;return e.jsx(a,{className:"h-5 w-5 text-white"})})()}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium capitalize",children:[s.plan," Plan"]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[new Date(s.startDate).toLocaleDateString()," - ",new Date(s.endDate).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx(M,{variant:"outline",className:f(s.status),children:e.jsxs("span",{className:"flex items-center gap-1",children:[u(s.status),s.status.charAt(0).toUpperCase()+s.status.slice(1)]})}),e.jsxs("p",{className:"text-sm font-medium mt-1",children:["$",s.price,"/",s.currency]})]})]},s.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ee,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground opacity-50"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No subscriptions yet"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Subscribe to a plan to unlock premium features"}),e.jsx(y,{asChild:!0,children:e.jsx(T,{to:"/pricing",children:"View Plans"})})]})})]})}),e.jsxs(b.div,{variants:S,children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"Available Plans"}),e.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:Object.entries(p).map(([s,a])=>e.jsxs(k,{className:`relative overflow-hidden ${t?.plan===s?"border-primary":""}`,children:[t?.plan===s&&e.jsx("div",{className:"absolute top-0 right-0 bg-primary text-primary-foreground text-xs px-2 py-1 rounded-bl-lg",children:"Current"}),e.jsxs(P,{children:[e.jsx("div",{className:`w-12 h-12 rounded-lg bg-gradient-to-br ${a.color} flex items-center justify-center mb-3`,children:e.jsx(a.icon,{className:"h-6 w-6 text-white"})}),e.jsx(D,{className:"capitalize",children:a.name}),e.jsx(A,{children:a.description})]}),e.jsx(I,{children:e.jsx("ul",{className:"space-y-2",children:a.features.map((c,l)=>e.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[e.jsx(R,{className:"h-4 w-4 text-green-500 flex-shrink-0"}),c]},l))})})]},s))})]})]})}export{Se as default};
