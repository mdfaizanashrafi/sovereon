import{r as u,j as e}from"./radix-ui-g4Zjb45b.js";import{u as A,C as a,a as r,b as i,P as o,c as l,d as v,T as I,R as m,e as j,B as c,A as b,f as w,g as L}from"./index-Di0QTi5H.js";import{S as p}from"./skeleton-CqUGqSWy.js";import{m as d}from"./animations-Cl6lmbPg.js";import{C as O}from"./circle-alert-KNhF9Ogk.js";import{C as P}from"./circle-check-Bt4IzOAM.js";import{L as n}from"./vendor-5D3NlFB3.js";const R={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},x={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}};function z(){const{user:y,getDashboardStats:g}=A(),[t,C]=u.useState(null),[S,k]=u.useState(!0);u.useEffect(()=>{(async()=>{const h=await g();C(h),k(!1)})()},[g]);const f=s=>{switch(s){case"completed":case"paid":case"active":return"bg-green-500/10 text-green-600 border-green-500/20";case"in_progress":return"bg-blue-500/10 text-blue-600 border-blue-500/20";case"pending":return"bg-yellow-500/10 text-yellow-600 border-yellow-500/20";case"cancelled":case"overdue":return"bg-red-500/10 text-red-600 border-red-500/20";default:return"bg-muted text-muted-foreground"}},N=s=>{switch(s){case"completed":case"paid":return e.jsx(P,{className:"h-3 w-3"});case"pending":return e.jsx(L,{className:"h-3 w-3"});case"overdue":return e.jsx(O,{className:"h-3 w-3"});default:return null}};return S?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[...Array(4)].map((s,h)=>e.jsx(p,{className:"h-32"},h))}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsx(p,{className:"h-80"}),e.jsx(p,{className:"h-80"})]})]}):e.jsxs(d.div,{variants:R,initial:"hidden",animate:"visible",className:"space-y-6",children:[e.jsxs(d.div,{variants:x,children:[e.jsxs("h1",{className:"text-3xl font-bold tracking-tight",children:["Welcome back, ",y?.name?.split(" ")[0]||"User","!"]}),e.jsx("p",{className:"text-muted-foreground",children:"Here's what's happening with your account today."})]}),e.jsxs(d.div,{variants:x,className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(a,{children:[e.jsxs(r,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(i,{className:"text-sm font-medium",children:"Total Orders"}),e.jsx(o,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(l,{children:[e.jsx("div",{className:"text-2xl font-bold",children:t?.totalOrders||0}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[t?.activeOrders||0," active"]})]})]}),e.jsxs(a,{children:[e.jsxs(r,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(i,{className:"text-sm font-medium",children:"Active Subscriptions"}),e.jsx(v,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(l,{children:[e.jsx("div",{className:"text-2xl font-bold",children:t?.activeSubscriptions||0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Professional Plan"})]})]}),e.jsxs(a,{children:[e.jsxs(r,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(i,{className:"text-sm font-medium",children:"Total Spent"}),e.jsx(I,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(l,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:["$",(t?.totalSpent||0).toLocaleString()]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Lifetime value"})]})]}),e.jsxs(a,{children:[e.jsxs(r,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(i,{className:"text-sm font-medium",children:"Pending Invoices"}),e.jsx(m,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(l,{children:[e.jsx("div",{className:"text-2xl font-bold",children:t?.pendingInvoices||0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Awaiting payment"})]})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsx(d.div,{variants:x,children:e.jsxs(a,{className:"h-full",children:[e.jsxs(r,{className:"flex flex-row items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(i,{children:"Recent Orders"}),e.jsx(j,{children:"Your latest service orders"})]}),e.jsx(c,{variant:"ghost",size:"sm",asChild:!0,children:e.jsxs(n,{to:"/portal/orders",children:["View all",e.jsx(b,{className:"ml-2 h-4 w-4"})]})})]}),e.jsx(l,{children:t?.recentOrders&&t.recentOrders.length>0?e.jsx("div",{className:"space-y-4",children:t.recentOrders.slice(0,5).map(s=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/50 hover:bg-muted transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:e.jsx(o,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:s.service}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s.orderNumber})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx(w,{variant:"outline",className:f(s.status),children:e.jsxs("span",{className:"flex items-center gap-1",children:[N(s.status),s.status.replace("_"," ")]})}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["$",s.amount.toLocaleString()]})]})]},s.id))}):e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(o,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),e.jsx("p",{children:"No orders yet"}),e.jsx(c,{variant:"link",asChild:!0,className:"mt-2",children:e.jsx(n,{to:"/services",children:"Browse services"})})]})})]})}),e.jsx(d.div,{variants:x,children:e.jsxs(a,{className:"h-full",children:[e.jsxs(r,{className:"flex flex-row items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(i,{children:"Recent Invoices"}),e.jsx(j,{children:"Your latest billing activity"})]}),e.jsx(c,{variant:"ghost",size:"sm",asChild:!0,children:e.jsxs(n,{to:"/portal/invoices",children:["View all",e.jsx(b,{className:"ml-2 h-4 w-4"})]})})]}),e.jsx(l,{children:t?.recentInvoices&&t.recentInvoices.length>0?e.jsx("div",{className:"space-y-4",children:t.recentInvoices.slice(0,5).map(s=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/50 hover:bg-muted transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:e.jsx(m,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:s.invoiceNumber}),e.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(s.issuedAt).toLocaleDateString()})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx(w,{variant:"outline",className:f(s.status),children:e.jsxs("span",{className:"flex items-center gap-1",children:[N(s.status),s.status]})}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["$",s.total.toLocaleString()]})]})]},s.id))}):e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(m,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),e.jsx("p",{children:"No invoices yet"})]})})]})})]}),e.jsx(d.div,{variants:x,children:e.jsxs(a,{children:[e.jsxs(r,{children:[e.jsx(i,{children:"Quick Actions"}),e.jsx(j,{children:"Common tasks you might want to perform"})]}),e.jsx(l,{children:e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsx(c,{asChild:!0,children:e.jsxs(n,{to:"/services",children:[e.jsx(o,{className:"mr-2 h-4 w-4"}),"Order New Service"]})}),e.jsx(c,{variant:"outline",asChild:!0,children:e.jsxs(n,{to:"/portal/subscriptions",children:[e.jsx(v,{className:"mr-2 h-4 w-4"}),"Manage Subscription"]})}),e.jsx(c,{variant:"outline",asChild:!0,children:e.jsxs(n,{to:"/portal/invoices",children:[e.jsx(m,{className:"mr-2 h-4 w-4"}),"View Invoices"]})}),e.jsx(c,{variant:"outline",asChild:!0,children:e.jsx(n,{to:"/contact",children:"Support"})})]})})]})})]})}export{z as default};
